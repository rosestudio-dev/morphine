val base = env.library("base")

env.test = base

fun recursive print_table<auto>(indent, table)
    iterator(decompose key, value in table)
        for(var i = 0; i < indent; i ++)
            base.print("    ")
        end

        base.print(key)
        base.print(": ")

        if (typeof value == "table")
            base.println()
            print_table(indent + 1, value)
        else
            base.println(value)
        end
    end
end

print_table(0, env)
